<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>CS180 Project 1 — Colorizing the Prokudin-Gorskii Collection</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="web/styles.css" rel="stylesheet" />
  <style>
    /* Minimal falls du kein globales CSS nutzt */
    body { max-width: 950px; margin: 0 auto; padding: 24px; font-family: system-ui, sans-serif; line-height: 1.6; }
    h1,h2 { line-height: 1.2; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 16px; }
    figure { margin: 0; }
    figure img { width: 100%; height: auto; display:block; border-radius: 6px; }
    figcaption { font-size: 0.9rem; color: #555; margin-top: 6px; }
    .pill { display:inline-block; font-size: 0.85rem; background:#f1f3f5; padding:2px 8px; border-radius:999px; margin-right:6px; }
    table { width:100%; border-collapse: collapse; }
    th, td { padding: 8px 10px; border-bottom: 1px solid #e5e7eb; text-align: left; }
    code { background:#f6f7f9; padding:2px 4px; border-radius:4px; }
  </style>
</head>
<body>
  <a href="index.html">← Back</a>
  <h1>Colorizing the Prokudin-Gorskii Collection</h1>
  <p>
    This page documents my pipeline to convert B/G/R glass plates into aligned RGB images using
    single-scale search (SSD/NCC), <span class="pill">Phase Correlation</span> and a
    <span class="pill">coarse-to-fine edge-based pyramid</span>.
  </p>

  <h2>Overview</h2>
  <ul>
    <li>Split BGR plates into channels (top→bottom).</li>
    <li>Crop borders (±10% each side), convert to float.</li>
    <li>Alignment methods: SSD, NCC, Phase Correlation.</li>
    <li>Pyramid: downscale ×2, Kanten <em>(central diff / Prewitt)</em>, coarse→fine search.</li>
  </ul>

  <h2>Pipeline</h2>
  <div class="grid">
    <figure>
      <img src="assets/proj1/plate_raw.jpg" alt="raw plate"/>
      <figcaption>Raw B/G/R plate (BGR from top to bottom).</figcaption>
    </figure>
    <figure>
      <img src="assets/proj1/crop_debug.jpg" alt="crop"/>
      <figcaption>Border crop (10% each side) to remove frames.</figcaption>
    </figure>
    <figure>
      <img src="assets/proj1/downscaled_5x.jpg" alt="downscaled"/>
      <figcaption>Downscaling by factor 2 (5 steps) for pyramid level 0.</figcaption>
    </figure>
    <figure>
      <img src="assets/proj1/edges_level0.jpg" alt="edges"/>
      <figcaption>Edge map (central differences), used for SSD/NCC matching.</figcaption>
    </figure>
  </div>

  <h2>Results (Selected)</h2>
  <div class="grid">
    <figure>
      <img src="assets/proj1/emir_phase.jpg" alt="emir"/>
      <figcaption><b>Emir</b> — Phase init + edge-pyramid NCC. Offsets: G=(dx,dy), R=(dx,dy).</figcaption>
    </figure>
    <figure>
      <img src="assets/proj1/monastery_pyr_ncc.jpg" alt="monastery"/>
      <figcaption><b>Monastery</b> — Pyramid NCC.</figcaption>
    </figure>
    <!-- weitere Beispiele -->
  </div>

  <h2>Timings & Offsets</h2>
  <p>Below are per-image timings and the estimated displacements (x,y) for G and R aligned to B.</p>
  <table>
    <thead><tr>
      <th>Image</th><th>Method</th>
      <th>G (dx,dy)</th><th>R (dx,dy)</th><th>Time [s]</th>
    </tr></thead>
    <tbody>
      <!-- statisch eintragen oder vom CSV vorgerendert -->
      <tr><td>cathedral</td><td>pyramid-ncc</td><td>(…)</td><td>(…)</td><td>…</td></tr>
    </tbody>
  </table>

  <h2>Discussion</h2>
  <p>
    Notes on difficult cases (e.g. Emir brightness mismatch), why edges help SSD/NCC,
    effect of crop fraction and search window, and failure cases.
  </p>
</body>
</html>
